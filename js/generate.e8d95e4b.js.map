{"version":3,"file":"js/generate.e8d95e4b.js","mappings":"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","sources":["webpack://quizbowl_schedule_generator/./src/engine/QuizbowlEngineException.ts","webpack://quizbowl_schedule_generator/./src/engine/Ruleset.ts","webpack://quizbowl_schedule_generator/./src/stores/Configuration.ts","webpack://quizbowl_schedule_generator/./src/stores/Result.ts","webpack://quizbowl_schedule_generator/../../../src/components/VDivider/VDivider.tsx","webpack://quizbowl_schedule_generator/./src/views/Generate.vue?fb7a","webpack://quizbowl_schedule_generator/./src/engine/QuizbowlList.ts","webpack://quizbowl_schedule_generator/./src/engine/Room.ts","webpack://quizbowl_schedule_generator/./src/engine/RoomFactory.ts","webpack://quizbowl_schedule_generator/./src/engine/School.ts","webpack://quizbowl_schedule_generator/./src/engine/Team.ts","webpack://quizbowl_schedule_generator/./src/engine/TeamFactory.ts","webpack://quizbowl_schedule_generator/./src/engine/Match.ts","webpack://quizbowl_schedule_generator/./src/engine/Round.ts","webpack://quizbowl_schedule_generator/./src/engine/Schedule.ts","webpack://quizbowl_schedule_generator/./src/engine/ScheduleGenerator.ts","webpack://quizbowl_schedule_generator/./src/views/Generate.vue?fadd","webpack://quizbowl_schedule_generator/./src/views/Generate.vue","webpack://quizbowl_schedule_generator/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://quizbowl_schedule_generator/../../../src/components/VAlert/VAlertTitle.ts","webpack://quizbowl_schedule_generator/../../../src/components/VAlert/VAlert.tsx"],"sourcesContent":["export class QuizbowlEngineException extends Error {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  constructor(message: any) {\n    super(message);\n    this.name = \"QuizbowlEngineException\";\n  }\n}\n","export class Ruleset {\n  schoolCanNotPlaySelf = true;\n  teamCanNotPlaySameTeamTwice = true;\n  byeRoundAllowed = true;\n  maxByesPerTeam = 1;\n  numberOfRounds = 6;\n  maxTimesAgainstSameSchool = 0;\n  maxTimesInSameRoom = 0;\n}\n","import { Ruleset } from \"@/engine/Ruleset\";\nimport { defineStore } from \"pinia\";\n\ninterface ConfigurationState {\n  schools: { name: string; numberOfTeams: number }[];\n  rooms: string[];\n  ruleset: Ruleset;\n}\n\nexport const useConfiguration = defineStore(\"Configuration\", {\n  state: () => {\n    const temp: ConfigurationState = {\n      schools: [],\n      rooms: [],\n      ruleset: new Ruleset(),\n    };\n    return temp;\n  },\n  getters: {\n    getSchools: (state) => {\n      return state.schools;\n    },\n    getRooms: (state) => {\n      return state.rooms;\n    },\n    getRules: (state) => {\n      return state.ruleset;\n    },\n  },\n  actions: {\n    set(\n      schools: { name: string; numberOfTeams: number }[],\n      rooms: string[],\n      ruleset: Ruleset\n    ) {\n      this.schools = schools;\n      this.rooms = rooms;\n      this.ruleset = ruleset;\n    },\n  },\n});\n","import { QuizbowlEngineException } from \"@/engine/QuizbowlEngineException\";\nimport { Schedule } from \"@/engine/Schedule\";\nimport { defineStore } from \"pinia\";\n\ninterface ResultState {\n  schedule: Schedule | null;\n}\n\nexport const useResult = defineStore(\"Result\", {\n  state: () => {\n    const temp: ResultState = {\n      schedule: null,\n    };\n    return temp;\n  },\n  getters: {\n    getSchedule: (state) => {\n      if (state.schedule == null)\n        throw new QuizbowlEngineException(\"Schedule Not Generated\");\n      return state.schedule;\n    },\n  },\n  actions: {\n    set(schedule: Schedule) {\n      console.log(\"committing schedule\");\n      console.log(schedule);\n      this.schedule = schedule;\n    },\n  },\n});\n","// Styles\nimport './VDivider.sass'\n\n// Composables\nimport { makeThemeProps, provideTheme } from '@/composables/theme'\nimport { useBackgroundColor } from '@/composables/color'\n\n// Utilities\nimport { computed, toRef } from 'vue'\nimport { convertToUnit, defineComponent, useRender } from '@/util'\n\n// Types\ntype DividerKey = 'borderRightWidth' | 'borderTopWidth' | 'maxHeight' | 'maxWidth'\ntype DividerStyles = Partial<Record<DividerKey, string>>\n\nexport const VDivider = defineComponent({\n  name: 'VDivider',\n\n  props: {\n    color: String,\n    inset: Boolean,\n    length: [Number, String],\n    thickness: [Number, String],\n    vertical: Boolean,\n\n    ...makeThemeProps(),\n  },\n\n  setup (props, { attrs }) {\n    const { themeClasses } = provideTheme(props)\n    const { backgroundColorClasses, backgroundColorStyles } = useBackgroundColor(toRef(props, 'color'))\n    const dividerStyles = computed(() => {\n      const styles: DividerStyles = {}\n\n      if (props.length) {\n        styles[props.vertical ? 'maxHeight' : 'maxWidth'] = convertToUnit(props.length)\n      }\n\n      if (props.thickness) {\n        styles[props.vertical ? 'borderRightWidth' : 'borderTopWidth'] = convertToUnit(props.thickness)\n      }\n\n      return styles\n    })\n\n    useRender(() => (\n      <hr\n        class={[\n          {\n            'v-divider': true,\n            'v-divider--inset': props.inset,\n            'v-divider--vertical': props.vertical,\n          },\n          themeClasses.value,\n          backgroundColorClasses.value,\n        ]}\n        style={[\n          dividerStyles.value,\n          backgroundColorStyles.value,\n        ]}\n        aria-orientation={\n          !attrs.role || attrs.role === 'separator'\n            ? props.vertical ? 'vertical' : 'horizontal'\n            : undefined\n        }\n        role={`${attrs.role || 'separator'}`}\n      />\n    ))\n\n    return {}\n  },\n})\n\nexport type VDivider = InstanceType<typeof VDivider>\n","import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Generating...\", -1)\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"span\", null, \"Please Wait. This may take several minutes.\", -1)\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n  const _component_v_divider = _resolveComponent(\"v-divider\")!\n  const _component_v_alert = _resolveComponent(\"v-alert\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _hoisted_1,\n    _hoisted_2,\n    (_ctx.failed)\n      ? (_openBlock(), _createBlock(_component_v_alert, {\n          key: 0,\n          prominent: \"\",\n          type: \"error\"\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\" Failed to Generate Schedule \"),\n            _createVNode(_component_router_link, {\n              onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.work())),\n              to: \"/generate\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Retry\")\n              ]),\n              _: 1\n            }),\n            _createTextVNode(\" or \"),\n            _createVNode(_component_router_link, { to: \"/\" }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Reconfigure\")\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_v_divider),\n            _createElementVNode(\"small\", null, _toDisplayString(_ctx.errMsg), 1)\n          ]),\n          _: 1\n        }))\n      : _createCommentVNode(\"\", true)\n  ]))\n}","export class QuizbowlList<T> extends Array<T> {\n  constructor(list?: Array<T>) {\n    super();\n    if (!list) return;\n    if (!(list instanceof Array)) return;\n    for (const element of list) {\n      this.push(element);\n    }\n  }\n\n  popRandom(): T {\n    const index = Math.floor(Math.random() * this.length);\n    return this.splice(index, 1)[0];\n  }\n\n  copy(): QuizbowlList<T> {\n    return new QuizbowlList<T>([...this]);\n  }\n}\n","import { QuizbowlList } from \"./QuizbowlList\";\n\nexport class Room {\n  private letter: string;\n  private numberString: string;\n  readonly symbol: symbol;\n\n  constructor(letter: string, numberString: string) {\n    this.letter = letter;\n    this.numberString = numberString;\n    this.symbol = Symbol();\n  }\n\n  toString(): string {\n    return `${this.letter} (${this.numberString})`;\n  }\n}\n\nexport class RoomList extends QuizbowlList<Room> {}\n","import { Room } from \"./Room\";\n\nconst START_CHAR = \"A\";\nfunction getLetter(index: number): string {\n  return String.fromCharCode(START_CHAR.charCodeAt(0) + index);\n}\n\nexport function roomFactory(names: string[]): Room[] {\n  const result: Room[] = [];\n  for (let i = 0; i < names.length; i++) {\n    result.push(new Room(getLetter(i), names[i]));\n  }\n  return result;\n}\n","export class School {\n  private name: string;\n  readonly symbol: symbol;\n\n  constructor(name: string) {\n    this.name = name;\n    this.symbol = Symbol(this.toString());\n  }\n\n  toString(): string {\n    return this.name;\n  }\n}\n","import { QuizbowlList } from \"./QuizbowlList\";\nimport { School } from \"./School\";\n\nexport class Team {\n  school: School;\n  number: number;\n  readonly symbol: symbol;\n\n  constructor(school: School, number: number) {\n    this.school = school;\n    this.number = number;\n    this.symbol = Symbol(this.toString());\n  }\n\n  toString(): string {\n    return `${this.school.toString()} ${this.number}`;\n  }\n}\n\nexport class TeamList extends QuizbowlList<Team> {}\n","import { School } from \"./School\";\nimport { Team, TeamList } from \"./Team\";\n\nexport interface schoolDescriptor {\n  name: string;\n  numberOfTeams: number;\n}\n\nexport function TeamFactory(schools: schoolDescriptor[]): TeamList {\n  const result = new TeamList([]);\n  for (const school of schools) {\n    const schoolObject = new School(school.name);\n    for (let i = 0; i < school.numberOfTeams; i++) {\n      result.push(new Team(schoolObject, i + 1));\n    }\n  }\n  return result;\n}\n","import { QuizbowlEngineException } from \"./QuizbowlEngineException\";\nimport { Room } from \"./Room\";\nimport { Team } from \"./Team\";\n\nexport class Match {\n  isSameSchool(): boolean {\n    return false;\n  }\n\n  toString(): string {\n    throw new QuizbowlEngineException(\n      \"You should not create an instance of Match\"\n    );\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  hasTeam(team: Team) {\n    return false;\n  }\n\n  getTeams(): Team[] {\n    return [];\n  }\n\n  isBye(): boolean {\n    return false;\n  }\n}\n\nexport class RegularMatch extends Match {\n  private teamA: Team;\n  private teamB: Team;\n  private room: Room;\n\n  constructor(teamA: Team, teamB: Team, room: Room) {\n    super();\n    this.teamA = teamA;\n    this.teamB = teamB;\n    this.room = room;\n  }\n\n  isSameSchool(): boolean {\n    return this.teamA.school == this.teamB.school;\n  }\n\n  toString(): string {\n    return `${this.teamA.toString()} vs ${this.teamB.toString()} in ${this.room.toString()}`;\n  }\n\n  hasTeam(team: Team) {\n    return this.teamA === team || this.teamB === team;\n  }\n\n  getTeams(): Team[] {\n    return [this.teamA, this.teamB];\n  }\n\n  getRoom(): Room {\n    return this.room;\n  }\n}\n\nexport class ByeRound extends Match {\n  private team: Team;\n\n  constructor(team: Team) {\n    super();\n    this.team = team;\n  }\n\n  toString(): string {\n    return `${this.team.toString()} has a bye`;\n  }\n\n  hasTeam(team: Team) {\n    return this.team === team;\n  }\n\n  isBye(): boolean {\n    return true;\n  }\n}\n","import { ByeRound, Match, RegularMatch } from \"./Match\";\nimport { QuizbowlEngineException } from \"./QuizbowlEngineException\";\nimport { RoomList } from \"./Room\";\nimport { Team, TeamList } from \"./Team\";\n\ndeclare function Callback(match: Match, index: number): unknown;\n\nexport class Round {\n  readonly matches: Match[] = [];\n\n  getMatch(round: number): Match {\n    return this.matches[round];\n  }\n\n  matchesLength(): number {\n    return this.matches.length;\n  }\n\n  constructor(teams: TeamList, rooms: RoomList, allowBye = false) {\n    this.generateRound(teams, rooms, allowBye);\n  }\n\n  private generateMatch(teams: TeamList, rooms: RoomList) {\n    const teamA = teams.popRandom();\n    const teamB = teams.popRandom();\n    const room = rooms.popRandom();\n    return new RegularMatch(teamA, teamB, room);\n  }\n\n  private generateRound(teams: TeamList, rooms: RoomList, allowBye: boolean) {\n    const teamsCopy = teams.copy();\n    const roomsCopy = rooms.copy();\n    this.ensureSafeToGenerateRound(teamsCopy, allowBye, roomsCopy);\n    this.generateMatches(teamsCopy, roomsCopy);\n    this.generateBye(teamsCopy);\n  }\n\n  private generateBye(teams: TeamList) {\n    while (teams.length > 0) {\n      const match = new ByeRound(teams.popRandom());\n      this.matches.push(match);\n    }\n  }\n\n  private generateMatches(teams: TeamList, rooms: RoomList) {\n    while (teams.length > 1) {\n      const match = this.generateMatch(teams, rooms);\n      this.matches.push(match);\n    }\n  }\n\n  private ensureSafeToGenerateRound(\n    teams: TeamList,\n    allowBye: boolean,\n    rooms: RoomList\n  ) {\n    if (teams.length % 2 === 1 && !allowBye) {\n      throw new QuizbowlEngineException(\n        \"There must be an even number of teams if teams are not allowed a bye.\"\n      );\n    }\n    if (this.matches.length > 0) {\n      throw new QuizbowlEngineException(\n        \"You can not generate a round after it has already been generated.\"\n      );\n    }\n    if (rooms.length < teams.length / 2) {\n      throw new QuizbowlEngineException(\n        \"There must be at least half as many rooms as teams.\"\n      );\n    }\n  }\n\n  forEach(callback: typeof Callback) {\n    this.matches.forEach(callback);\n  }\n\n  getTeamMatch(team: Team): Match {\n    for (const match of this.matches) {\n      if (match.hasTeam(team)) {\n        return match;\n      }\n    }\n    throw new QuizbowlEngineException(\"Team Match Not Found\");\n  }\n}\n","import { RegularMatch } from \"./Match\";\nimport { QuizbowlEngineException } from \"./QuizbowlEngineException\";\nimport { Room, RoomList } from \"./Room\";\nimport { Round } from \"./Round\";\nimport { Ruleset } from \"./Ruleset\";\nimport { Team, TeamList } from \"./Team\";\n\ndeclare function Callback(match: Round, index: number): unknown;\n\nclass RuleEnforcementException extends QuizbowlEngineException {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  constructor(message: any) {\n    super(message);\n    this.name = \"RuleEnforcementException\";\n  }\n}\n\ntype SymbolMapping<U> = {\n  [key: symbol]: U;\n};\n\ntype schoolLimitStruct = SymbolMapping<SymbolMapping<number>>;\ntype roomLimitStruct = SymbolMapping<SymbolMapping<number>>;\n\nfunction safeGet<U>(map: SymbolMapping<U>, key: symbol, defaultValue: U): U {\n  // eslint-disable-next-line no-prototype-builtins\n  if (!map.hasOwnProperty(key)) {\n    map[key] = defaultValue;\n  }\n  return map[key];\n}\n\nexport class Schedule {\n  // TODO Implement schedule\n  readonly rounds: Round[];\n  readonly teams: TeamList;\n  readonly rooms: RoomList;\n  readonly ruleset: Ruleset;\n\n  getRound(round: number): Round {\n    return this.rounds[round];\n  }\n\n  roundsLength(): number {\n    return this.rounds.length;\n  }\n\n  constructor(teams: Team[], rooms: Room[], ruleset: Ruleset = new Ruleset()) {\n    this.rounds = [];\n    this.teams = new TeamList(teams);\n    this.rooms = new RoomList(rooms);\n    this.ruleset = ruleset;\n    for (let i = 0; i < this.ruleset.numberOfRounds; i++) {\n      this.rounds.push(\n        new Round(this.teams, this.rooms, ruleset.byeRoundAllowed)\n      );\n    }\n  }\n\n  private doSchoolsPlaySelf(): void {\n    this.forEach((round) => {\n      round.forEach((match) => {\n        if (match.isSameSchool()) {\n          throw new RuleEnforcementException(\n            \"team has the same school competing against itself.\"\n          );\n        }\n      });\n    });\n  }\n\n  private doesTeamPlaySameTeamTwice(): void {\n    for (const team of this.teams) {\n      let opponents: Team[] = [];\n      for (const round of this.rounds) {\n        const match = round.getTeamMatch(team);\n        opponents = opponents.concat(\n          match.getTeams().filter((value) => value !== team)\n        );\n      }\n      if (new Set(opponents).size !== opponents.length) {\n        throw new RuleEnforcementException(\"team plays the same team twice.\");\n      }\n    }\n  }\n\n  private doesExceedByesPerTeam(maxByes: number): void {\n    for (const team of this.teams) {\n      let byeCount = 0;\n      for (const round of this.rounds) {\n        const match = round.getTeamMatch(team);\n        if (match.isBye()) byeCount++;\n        if (byeCount > maxByes) {\n          throw new RuleEnforcementException(\"team has too many bye rounds.\");\n        }\n      }\n    }\n  }\n\n  /**\n   * Ensures that each team does not play a given school more than\n   * maxMeetings times\n   * @param maxMeetings the number of meetings\n   */\n  private ensureSchoolLimit(maxMeetings: number): void {\n    const teamMatchups: schoolLimitStruct = {};\n    for (const round of this.rounds) {\n      for (const match of round.matches) {\n        if (match instanceof RegularMatch) {\n          this.recordSchoolMeets(match, teamMatchups);\n        }\n      }\n    }\n    for (const teamSymbol of Object.getOwnPropertySymbols(teamMatchups)) {\n      for (const schoolSymbol of Object.getOwnPropertySymbols(\n        teamMatchups[teamSymbol]\n      )) {\n        if (teamMatchups[teamSymbol][schoolSymbol] > maxMeetings)\n          throw new QuizbowlEngineException(\n            \"Too many meetings against same school \" +\n              teamSymbol.toString() +\n              \" \" +\n              schoolSymbol.toString() +\n              \" \" +\n              teamMatchups[teamSymbol][schoolSymbol]\n          );\n      }\n    }\n  }\n\n  private recordSchoolMeets(\n    match: RegularMatch,\n    teamMatchups: schoolLimitStruct\n  ) {\n    const teams = match.getTeams();\n    const teamASchoolOps = safeGet(teamMatchups, teams[0].symbol, {});\n    safeGet(teamASchoolOps, teams[1].school.symbol, 0);\n    teamASchoolOps[teams[1].school.symbol] += 1;\n    const teamBSchoolOps = safeGet(teamMatchups, teams[1].symbol, {});\n    safeGet(teamBSchoolOps, teams[0].school.symbol, 0);\n    teamBSchoolOps[teams[0].school.symbol] += 1;\n  }\n\n  /**\n   * Ensures that each team does not play in a given room more than the limit times\n   * @param maxRounds the number of meetings\n   */\n  private ensureRoomRounds(maxRounds: number): void {\n    const roomRounds: roomLimitStruct = {};\n    for (const round of this.rounds) {\n      for (const match of round.matches) {\n        if (match instanceof RegularMatch) {\n          this.recordRoomRounds(match, roomRounds);\n        }\n      }\n    }\n    for (const teamSymbol of Object.getOwnPropertySymbols(roomRounds)) {\n      for (const schoolSymbol of Object.getOwnPropertySymbols(\n        roomRounds[teamSymbol]\n      )) {\n        if (roomRounds[teamSymbol][schoolSymbol] > maxRounds)\n          throw new QuizbowlEngineException(\"Too many rounds in the same room\");\n      }\n    }\n  }\n\n  private recordRoomRounds(match: RegularMatch, roomRounds: schoolLimitStruct) {\n    const teams = match.getTeams();\n    const teamMatchupSchoolsA = safeGet(roomRounds, teams[0].symbol, {});\n    safeGet(teamMatchupSchoolsA, match.getRoom().symbol, 0);\n    teamMatchupSchoolsA[match.getRoom().symbol] += 1;\n    const teamMatchupSchoolsB = safeGet(roomRounds, teams[1].symbol, {});\n    safeGet(teamMatchupSchoolsB, match.getRoom().symbol, 0);\n    teamMatchupSchoolsB[match.getRoom().symbol] += 1;\n  }\n\n  ensureValid() {\n    if (this.ruleset.schoolCanNotPlaySelf) this.doSchoolsPlaySelf();\n    if (this.ruleset.teamCanNotPlaySameTeamTwice)\n      this.doesTeamPlaySameTeamTwice();\n    if (this.ruleset.byeRoundAllowed)\n      this.doesExceedByesPerTeam(this.ruleset.maxByesPerTeam);\n    if (this.ruleset.maxTimesAgainstSameSchool > 0)\n      this.ensureSchoolLimit(this.ruleset.maxTimesAgainstSameSchool);\n    if (this.ruleset.maxTimesInSameRoom)\n      this.ensureRoomRounds(this.ruleset.maxTimesInSameRoom);\n  }\n\n  forEach(callback: typeof Callback) {\n    this.rounds.forEach(callback);\n  }\n}\n","import { QuizbowlEngineException } from \"./QuizbowlEngineException\";\nimport { Room } from \"./Room\";\nimport { Ruleset } from \"./Ruleset\";\nimport { Schedule } from \"./Schedule\";\nimport { Team } from \"./Team\";\n\nconst MAX_TRIES = 100000;\n\nexport class ScheduleGenerator {\n  static generate(\n    teams: Team[],\n    rooms: Room[],\n    ruleset: Ruleset = new Ruleset()\n  ): Schedule {\n    const errorTypes: Set<string> = new Set();\n    for (let i = 0; i < MAX_TRIES; i++) {\n      try {\n        const schedule = new Schedule(teams, rooms, ruleset);\n        schedule.ensureValid();\n        return schedule;\n      } catch (ex) {\n        // @ts-expect-error it is unknown\n        const errorString: string = ex.toString();\n        errorTypes.add(errorString);\n      }\n    }\n    let errorStr = \"Failed to generate schedule within try limit.\\n\";\n    errorTypes.forEach((val) => {\n      errorStr += val + \"\\n\";\n    });\n    throw new QuizbowlEngineException(errorStr);\n  }\n}\n","\nconst WORK_DELAY_MS = 100;\nimport { useConfiguration } from \"@/stores/Configuration\";\nimport { roomFactory } from \"@/engine/RoomFactory\";\nimport { TeamFactory } from \"@/engine/TeamFactory\";\nimport { ScheduleGenerator } from \"@/engine/ScheduleGenerator\";\nimport { useResult } from \"@/stores/Result\";\nimport { defineComponent } from \"vue\";\nexport default defineComponent({\n  name: \"ScheduleGenerator\",\n  methods: {\n    work() {\n      this.failed = false;\n      setTimeout(this.workInternal, WORK_DELAY_MS);\n    },\n    workInternal() {\n      try {\n        const roomObjects = roomFactory(this.rooms);\n        const teamObjects = TeamFactory(this.schools);\n        const schedule = ScheduleGenerator.generate(\n          teamObjects,\n          roomObjects,\n          this.rules\n        );\n        this.failed = false;\n        this.commitResult(schedule);\n        this.$router.push(\"/result\");\n      } catch (ex) {\n        this.failed = true;\n        if (ex instanceof Error) {\n          this.errMsg = ex.toString();\n        } else {\n          this.errMsg = \"\";\n        }\n      }\n    },\n  },\n  data: () => {\n    return {\n      failed: false,\n      errMsg: \"\",\n    };\n  },\n  mounted() {\n    setTimeout(this.work, WORK_DELAY_MS);\n  },\n  setup: () => {\n    const configStore = useConfiguration();\n    const resultStore = useResult();\n    return {\n      schools: configStore.getSchools,\n      rooms: configStore.getRooms,\n      rules: configStore.getRules,\n      commitResult: resultStore.set,\n    };\n  },\n});\n","import { render } from \"./Generate.vue?vue&type=template&id=1d2402aa&ts=true\"\nimport script from \"./Generate.vue?vue&type=script&lang=ts\"\nexport * from \"./Generate.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/noah/git/quizbowl2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","// Utilities\nimport { createSimpleFunctional } from '@/util'\n\nexport const VAlertTitle = createSimpleFunctional('v-alert-title')\n\nexport type VAlert = InstanceType<typeof VAlertTitle>\n","// Styles\nimport './VAlert.sass'\n\n// Components\nimport { VAlertTitle } from './VAlertTitle'\nimport { VBtn } from '@/components/VBtn'\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider'\nimport { VIcon } from '@/components/VIcon'\n\n// Composables\nimport { genOverlays, makeVariantProps, useVariant } from '@/composables/variant'\nimport { makeDensityProps, useDensity } from '@/composables/density'\nimport { makeDimensionProps, useDimension } from '@/composables/dimensions'\nimport { makeElevationProps, useElevation } from '@/composables/elevation'\nimport { makeLocationProps, useLocation } from '@/composables/location'\nimport { makePositionProps, usePosition } from '@/composables/position'\nimport { makeRoundedProps, useRounded } from '@/composables/rounded'\nimport { makeTagProps } from '@/composables/tag'\nimport { makeThemeProps, provideTheme } from '@/composables/theme'\nimport { useLocale } from '@/composables/locale'\nimport { useProxiedModel } from '@/composables/proxiedModel'\nimport { useTextColor } from '@/composables/color'\nimport { IconValue } from '@/composables/icons'\n\n// Utilities\nimport { computed, toRef } from 'vue'\nimport { defineComponent } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\n\nconst allowedTypes = ['success', 'info', 'warning', 'error'] as const\n\ntype ContextualType = typeof allowedTypes[number]\n\nexport const VAlert = defineComponent({\n  name: 'VAlert',\n\n  props: {\n    border: {\n      type: [Boolean, String] as PropType<boolean | 'top' | 'end' | 'bottom' | 'start'>,\n      validator: (val: boolean | string) => {\n        return typeof val === 'boolean' || [\n          'top',\n          'end',\n          'bottom',\n          'start',\n        ].includes(val)\n      },\n    },\n    borderColor: String,\n    closable: Boolean,\n    closeIcon: {\n      type: IconValue,\n      default: '$close',\n    },\n    closeLabel: {\n      type: String,\n      default: '$vuetify.close',\n    },\n    icon: {\n      type: [Boolean, String, Function, Object] as PropType<false | IconValue>,\n      default: null,\n    },\n    modelValue: {\n      type: Boolean,\n      default: true,\n    },\n    prominent: Boolean,\n    title: String,\n    text: String,\n    type: {\n      type: String as PropType<ContextualType>,\n      validator: (val: ContextualType) => allowedTypes.includes(val),\n    },\n\n    ...makeDensityProps(),\n    ...makeDimensionProps(),\n    ...makeElevationProps(),\n    ...makeLocationProps(),\n    ...makePositionProps(),\n    ...makeRoundedProps(),\n    ...makeTagProps(),\n    ...makeThemeProps(),\n    ...makeVariantProps({ variant: 'flat' } as const),\n  },\n\n  emits: {\n    'update:modelValue': (value: boolean) => true,\n  },\n\n  setup (props, { slots }) {\n    const isActive = useProxiedModel(props, 'modelValue')\n    const icon = computed(() => {\n      if (props.icon === false) return undefined\n      if (!props.type) return props.icon\n\n      return props.icon ?? `$${props.type}`\n    })\n    const variantProps = computed(() => ({\n      color: props.color ?? props.type,\n      variant: props.variant,\n    }))\n\n    const { themeClasses } = provideTheme(props)\n    const { colorClasses, colorStyles, variantClasses } = useVariant(variantProps)\n    const { densityClasses } = useDensity(props)\n    const { dimensionStyles } = useDimension(props)\n    const { elevationClasses } = useElevation(props)\n    const { locationStyles } = useLocation(props)\n    const { positionClasses } = usePosition(props)\n    const { roundedClasses } = useRounded(props)\n    const { textColorClasses, textColorStyles } = useTextColor(toRef(props, 'borderColor'))\n    const { t } = useLocale()\n\n    const closeProps = computed(() => ({\n      'aria-label': t(props.closeLabel),\n      onClick (e: MouseEvent) {\n        isActive.value = false\n      },\n    }))\n\n    return () => {\n      const hasPrepend = !!(slots.prepend || icon.value)\n      const hasTitle = !!(slots.title || props.title)\n      const hasText = !!(props.text || slots.text)\n      const hasClose = !!(slots.close || props.closable)\n\n      return isActive.value && (\n        <props.tag\n          class={[\n            'v-alert',\n            props.border && {\n              'v-alert--border': !!props.border,\n              [`v-alert--border-${props.border === true ? 'start' : props.border}`]: true,\n            },\n            {\n              'v-alert--prominent': props.prominent,\n            },\n            themeClasses.value,\n            colorClasses.value,\n            densityClasses.value,\n            elevationClasses.value,\n            positionClasses.value,\n            roundedClasses.value,\n            variantClasses.value,\n          ]}\n          style={[\n            colorStyles.value,\n            dimensionStyles.value,\n            locationStyles.value,\n          ]}\n          role=\"alert\"\n        >\n          { genOverlays(false, 'v-alert') }\n\n          { props.border && (\n            <div\n              key=\"border\"\n              class={[\n                'v-alert__border',\n                textColorClasses.value,\n              ]}\n              style={ textColorStyles.value }\n            />\n          ) }\n\n          { hasPrepend && (\n            <VDefaultsProvider\n              key=\"prepend\"\n              defaults={{\n                VIcon: {\n                  density: props.density,\n                  icon: icon.value,\n                  size: props.prominent ? 44 : 28,\n                },\n              }}\n            >\n              <div class=\"v-alert__prepend\">\n                { slots.prepend\n                  ? slots.prepend()\n                  : icon.value && (<VIcon />)\n                }\n              </div>\n            </VDefaultsProvider>\n          ) }\n\n          <div class=\"v-alert__content\">\n            { hasTitle && (\n              <VAlertTitle key=\"title\">\n                { slots.title ? slots.title() : props.title }\n              </VAlertTitle>\n            ) }\n\n            { hasText && (\n              slots.text ? slots.text() : props.text\n            ) }\n\n            { slots.default?.() }\n          </div>\n\n          { slots.append && (\n            <div key=\"append\" class=\"v-alert__append\">\n              { slots.append() }\n            </div>\n          ) }\n\n          { hasClose && (\n            <VDefaultsProvider\n              key=\"close\"\n              defaults={{\n                VBtn: {\n                  icon: props.closeIcon,\n                  size: 'x-small',\n                  variant: 'text',\n                },\n              }}\n            >\n              <div class=\"v-alert__close\">\n                { slots.close?.({ props: closeProps.value }) ?? <VBtn { ...closeProps.value } /> }\n              </div>\n            </VDefaultsProvider>\n          ) }\n        </props.tag>\n      )\n    }\n  },\n})\n\nexport type VAlert = InstanceType<typeof VAlert>\n"],"names":["QuizbowlEngineException","Error","constructor","message","super","this","name","Ruleset","useConfiguration","defineStore","state","temp","schools","rooms","ruleset","getters","getSchools","getRooms","getRules","actions","set","useResult","schedule","getSchedule","console","log","VDivider","defineComponent","props","color","String","inset","Boolean","length","Number","thickness","vertical","makeThemeProps","setup","attrs","themeClasses","provideTheme","backgroundColorClasses","backgroundColorStyles","useBackgroundColor","toRef","dividerStyles","computed","styles","convertToUnit","useRender","value","role","undefined","_hoisted_1","_createElementVNode","_hoisted_2","render","_ctx","_cache","$props","$setup","$data","$options","_component_router_link","_resolveComponent","_openBlock","_createElementBlock","failed","_createBlock","_component_v_alert","key","prominent","type","default","_withCtx","_createTextVNode","_createVNode","onClick","$event","work","to","_","_component_v_divider","_toDisplayString","errMsg","_createCommentVNode","QuizbowlList","Array","list","element","push","popRandom","index","Math","floor","random","splice","copy","Room","letter","numberString","symbol","Symbol","toString","RoomList","START_CHAR","getLetter","fromCharCode","charCodeAt","roomFactory","names","result","i","School","Team","school","number","TeamList","TeamFactory","schoolObject","numberOfTeams","Match","isSameSchool","hasTeam","team","getTeams","isBye","RegularMatch","teamA","teamB","room","getRoom","ByeRound","Round","getMatch","round","matches","matchesLength","teams","allowBye","generateRound","generateMatch","teamsCopy","roomsCopy","ensureSafeToGenerateRound","generateMatches","generateBye","match","forEach","callback","getTeamMatch","RuleEnforcementException","safeGet","map","defaultValue","hasOwnProperty","Schedule","getRound","rounds","roundsLength","numberOfRounds","byeRoundAllowed","doSchoolsPlaySelf","doesTeamPlaySameTeamTwice","opponents","concat","filter","Set","size","doesExceedByesPerTeam","maxByes","byeCount","ensureSchoolLimit","maxMeetings","teamMatchups","recordSchoolMeets","teamSymbol","Object","getOwnPropertySymbols","schoolSymbol","teamASchoolOps","teamBSchoolOps","ensureRoomRounds","maxRounds","roomRounds","recordRoomRounds","teamMatchupSchoolsA","teamMatchupSchoolsB","ensureValid","schoolCanNotPlaySelf","teamCanNotPlaySameTeamTwice","maxByesPerTeam","maxTimesAgainstSameSchool","maxTimesInSameRoom","MAX_TRIES","ScheduleGenerator","static","errorTypes","ex","errorString","add","errorStr","val","WORK_DELAY_MS","methods","setTimeout","workInternal","roomObjects","teamObjects","generate","rules","commitResult","$router","data","mounted","configStore","resultStore","__exports__","_defineProperty","obj","defineProperty","enumerable","configurable","writable","VAlertTitle","createSimpleFunctional","allowedTypes","VAlert","border","validator","includes","borderColor","closable","closeIcon","IconValue","closeLabel","icon","Function","modelValue","title","text","makeDensityProps","makeDimensionProps","makeElevationProps","makeLocationProps","makePositionProps","makeRoundedProps","makeTagProps","makeVariantProps","variant","emits","slots","isActive","useProxiedModel","variantProps","colorClasses","colorStyles","variantClasses","useVariant","densityClasses","useDensity","dimensionStyles","useDimension","elevationClasses","useElevation","locationStyles","useLocation","positionClasses","usePosition","roundedClasses","useRounded","textColorClasses","textColorStyles","useTextColor","t","useLocale","closeProps","e","hasPrepend","prepend","hasTitle","hasText","hasClose","close","genOverlays","VIcon","density","_slots$default","append","VBtn"],"sourceRoot":""}